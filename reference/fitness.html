<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Evaluate the Individual Fitness values — fitness • windfarmGA</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Evaluate the Individual Fitness values — fitness"><meta name="description" content="The fitness of all individuals in the current population
is calculated after their energy output has been evaluated in
calculate_energy. This function reduces the resulting energy
outputs to a single fitness value for each individual."><meta property="og:description" content="The fitness of all individuals in the current population
is calculated after their energy output has been evaluated in
calculate_energy. This function reduces the resulting energy
outputs to a single fitness value for each individual."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">windfarmGA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/YsoSirius/windfarmGA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Evaluate the Individual Fitness values</h1>
      <small class="dont-index">Source: <a href="https://github.com/YsoSirius/windfarmGA/blob/master/R/fitness.R" class="external-link"><code>R/fitness.R</code></a></small>
      <div class="d-none name"><code>fitness.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The fitness of all individuals in the current population
is calculated after their energy output has been evaluated in
<code><a href="calculate_energy.html">calculate_energy</a></code>. This function reduces the resulting energy
outputs to a single fitness value for each individual.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fitness</span><span class="op">(</span></span>
<span>  <span class="va">selection</span>,</span>
<span>  <span class="va">referenceHeight</span>,</span>
<span>  <span class="va">RotorHeight</span>,</span>
<span>  <span class="va">SurfaceRoughness</span>,</span>
<span>  <span class="va">Polygon</span>,</span>
<span>  <span class="va">resol1</span>,</span>
<span>  <span class="va">rot</span>,</span>
<span>  <span class="va">dirspeed</span>,</span>
<span>  <span class="va">srtm_crop</span>,</span>
<span>  <span class="va">topograp</span>,</span>
<span>  <span class="va">cclRaster</span>,</span>
<span>  <span class="va">weibull</span>,</span>
<span>  <span class="va">Parallel</span>,</span>
<span>  <span class="va">numCluster</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-selection">selection<a class="anchor" aria-label="anchor" href="#arg-selection"></a></dt>
<dd><p>A list containing all individuals of the current population.</p></dd>


<dt id="arg-referenceheight">referenceHeight<a class="anchor" aria-label="anchor" href="#arg-referenceheight"></a></dt>
<dd><p>The height at which the incoming wind speeds were
measured. Default is <code>RotorHeight</code></p></dd>


<dt id="arg-rotorheight">RotorHeight<a class="anchor" aria-label="anchor" href="#arg-rotorheight"></a></dt>
<dd><p>The height of the turbine hub</p></dd>


<dt id="arg-surfaceroughness">SurfaceRoughness<a class="anchor" aria-label="anchor" href="#arg-surfaceroughness"></a></dt>
<dd><p>A surface roughness length in meters.
With the terrain effect model, a surface roughness is calculated for every
grid cell using the elevation and land cover data. Default is <code>0.3</code></p></dd>


<dt id="arg-polygon">Polygon<a class="anchor" aria-label="anchor" href="#arg-polygon"></a></dt>
<dd><p>The considered area as shapefile.</p></dd>


<dt id="arg-resol-">resol1<a class="anchor" aria-label="anchor" href="#arg-resol-"></a></dt>
<dd><p>The resolution of the grid in meter.</p></dd>


<dt id="arg-rot">rot<a class="anchor" aria-label="anchor" href="#arg-rot"></a></dt>
<dd><p>The desired rotor radius in meter.</p></dd>


<dt id="arg-dirspeed">dirspeed<a class="anchor" aria-label="anchor" href="#arg-dirspeed"></a></dt>
<dd><p>The wind data as list.</p></dd>


<dt id="arg-srtm-crop">srtm_crop<a class="anchor" aria-label="anchor" href="#arg-srtm-crop"></a></dt>
<dd><p>A list of 3 raster, with 1) the elevation, 2) an orographic
and 3) a terrain raster. Calculated in <code><a href="genetic_algorithm.html">genetic_algorithm</a></code></p></dd>


<dt id="arg-topograp">topograp<a class="anchor" aria-label="anchor" href="#arg-topograp"></a></dt>
<dd><p>Boolean value, which indicates if the terrain effect model
should be enabled or not. Default is <code>FALSE</code></p></dd>


<dt id="arg-cclraster">cclRaster<a class="anchor" aria-label="anchor" href="#arg-cclraster"></a></dt>
<dd><p>A Corine Land Cover raster, that has to be adapted
previously by hand with the surface roughness length for every land cover
type. Is only used, when the terrain effect model is activated.</p></dd>


<dt id="arg-weibull">weibull<a class="anchor" aria-label="anchor" href="#arg-weibull"></a></dt>
<dd><p>A raster representing the estimated wind speeds</p></dd>


<dt id="arg-parallel">Parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>A boolean value, indicating whether parallel processing
should be used. The <em>parallel</em> and <em>doParallel</em> packages are used for
parallel processing. Default is <code>FALSE</code></p></dd>


<dt id="arg-numcluster">numCluster<a class="anchor" aria-label="anchor" href="#arg-numcluster"></a></dt>
<dd><p>If <code>Parallel</code> is TRUE, this variable defines the
number of clusters to be used. Default is <code>2</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a list with every individual, consisting of X &amp; Y
coordinates, rotor radii, the runs and the selected grid cell IDs, and the
resulting energy outputs, efficiency rates and fitness values.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other Genetic Algorithm Functions:
<code><a href="crossover.html">crossover</a>()</code>,
<code><a href="genetic_algorithm.html">genetic_algorithm</a>()</code>,
<code><a href="init_population.html">init_population</a>()</code>,
<code><a href="mutation.html">mutation</a>()</code>,
<code><a href="selection.html">selection</a>()</code>,
<code><a href="trimton.html">trimton</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co">## Create a random rectangular shapefile</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Polygon1</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_polygon</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4498482</span>, <span class="fl">4498482</span>, <span class="fl">4499991</span>, <span class="fl">4499991</span>, <span class="fl">4498482</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2668272</span>, <span class="fl">2669343</span>, <span class="fl">2669343</span>, <span class="fl">2668272</span>, <span class="fl">2668272</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  crs <span class="op">=</span> <span class="fl">3035</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Create a uniform and unidirectional wind data.frame and plots the</span></span></span>
<span class="r-in"><span><span class="co">## resulting wind rose</span></span></span>
<span class="r-in"><span><span class="co">## Uniform wind speed and single wind direction</span></span></span>
<span class="r-in"><span><span class="va">wind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>ws <span class="op">=</span> <span class="fl">12</span>, wd <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># windrosePlot &lt;- plot_windrose(data = wind, spd = wind$ws,</span></span></span>
<span class="r-in"><span><span class="co">#                dir = wind$wd, dirres=10, spdmax=20)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Calculate a Grid and an indexed data.frame with coordinates and</span></span></span>
<span class="r-in"><span><span class="co">## grid cell IDs.</span></span></span>
<span class="r-in"><span><span class="va">Grid1</span> <span class="op">&lt;-</span> <span class="fu"><a href="grid_area.html">grid_area</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="va">Polygon1</span>, size <span class="op">=</span> <span class="fl">200</span>, prop <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Grid</span> <span class="op">&lt;-</span> <span class="va">Grid1</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">AmountGrids</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Grid</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">wind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">wind</span>, probab <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">startsel</span> <span class="op">&lt;-</span> <span class="fu"><a href="init_population.html">init_population</a></span><span class="op">(</span><span class="va">Grid</span>, <span class="fl">10</span>, <span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">fitness</span><span class="op">(</span></span></span>
<span class="r-in"><span>  selection <span class="op">=</span> <span class="va">startsel</span>, referenceHeight <span class="op">=</span> <span class="fl">100</span>, RotorHeight <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>  SurfaceRoughness <span class="op">=</span> <span class="fl">0.3</span>, Polygon <span class="op">=</span> <span class="va">Polygon1</span>, resol1 <span class="op">=</span> <span class="fl">200</span>, rot <span class="op">=</span> <span class="fl">20</span>,</span></span>
<span class="r-in"><span>  dirspeed <span class="op">=</span> <span class="va">wind</span>, srtm_crop <span class="op">=</span> <span class="st">""</span>, topograp <span class="op">=</span> <span class="cn">FALSE</span>, cclRaster <span class="op">=</span> <span class="st">""</span>,</span></span>
<span class="r-in"><span>  Parallel <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sebastian Gatscha.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

