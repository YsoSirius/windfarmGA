<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate Energy Outputs of Individuals — calculate_energy • windfarmGA</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculate Energy Outputs of Individuals — calculate_energy" />
<meta property="og:description" content="Calculate the energy output and efficiency rates of an
  individual in the current population under all given wind directions and
  speeds. If the terrain effect model is activated, the main calculations to
  model those effects will be done in this function." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">windfarmGA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/YsoSirius/windfarmGA/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate Energy Outputs of Individuals</h1>
    <small class="dont-index">Source: <a href='https://github.com/YsoSirius/windfarmGA/blob/master/R/calculate_energy.R'><code>R/calculate_energy.R</code></a></small>
    <div class="hidden name"><code>calculate_energy.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate the energy output and efficiency rates of an
  individual in the current population under all given wind directions and
  speeds. If the terrain effect model is activated, the main calculations to
  model those effects will be done in this function.</p>
    </div>

    <pre class="usage"><span class='fu'>calculate_energy</span><span class='op'>(</span>
  <span class='va'>sel</span>,
  <span class='va'>referenceHeight</span>,
  <span class='va'>RotorHeight</span>,
  <span class='va'>SurfaceRoughness</span>,
  <span class='va'>wnkl</span>,
  <span class='va'>distanz</span>,
  <span class='va'>polygon1</span>,
  <span class='va'>resol</span>,
  <span class='va'>RotorR</span>,
  <span class='va'>dirSpeed</span>,
  <span class='va'>srtm_crop</span>,
  <span class='va'>topograp</span>,
  <span class='va'>cclRaster</span>,
  <span class='va'>weibull</span>,
  plotit <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>sel</th>
      <td><p>A data.frame of an individual of the current population
(data.frame)</p></td>
    </tr>
    <tr>
      <th>referenceHeight</th>
      <td><p>The height at which the incoming wind speeds were
measured (numeric)</p></td>
    </tr>
    <tr>
      <th>RotorHeight</th>
      <td><p>The desired height of the turbines</p></td>
    </tr>
    <tr>
      <th>SurfaceRoughness</th>
      <td><p>A surface roughness length of the considered area in
m. If the terrain effect model is activated, a surface roughness will be
calculated for every grid cell with the elevation and land cover
information</p></td>
    </tr>
    <tr>
      <th>wnkl</th>
      <td><p>Indicates the angle at which no wake influences are considered
(numeric)</p></td>
    </tr>
    <tr>
      <th>distanz</th>
      <td><p>Indicates the distance after which the wake effects are
considered to be eliminated</p></td>
    </tr>
    <tr>
      <th>polygon1</th>
      <td><p>The considered area as shapefile</p></td>
    </tr>
    <tr>
      <th>resol</th>
      <td><p>The resolution of the grid in meter</p></td>
    </tr>
    <tr>
      <th>RotorR</th>
      <td><p>The desired rotor radius in meter</p></td>
    </tr>
    <tr>
      <th>dirSpeed</th>
      <td><p>The wind speed and direction data.frame</p></td>
    </tr>
    <tr>
      <th>srtm_crop</th>
      <td><p>A list of 3 raster, with 1) the elevation, 2) an orographic
and 3) a terrain raster. Calculated in <code><a href='genetic_algorithm.html'>genetic_algorithm</a></code></p></td>
    </tr>
    <tr>
      <th>topograp</th>
      <td><p>Logical value that indicates whether the terrain effect model
is activated (TRUE) or deactivated (FALSE)</p></td>
    </tr>
    <tr>
      <th>cclRaster</th>
      <td><p>A Corine Land Cover raster that has to be downloaded
previously. See also the details at <code><a href='windfarmGA.html'>windfarmGA</a></code> The raster
will only be used when the terrain effect model is activated. (raster)</p></td>
    </tr>
    <tr>
      <th>weibull</th>
      <td><p>A raster representing the estimated wind speeds</p></td>
    </tr>
    <tr>
      <th>plotit</th>
      <td><p>Logical value. If TRUE, the process will be plotted. 
Default is FALSE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a list of an individual of the current generation with
  resulting wake effects, energy outputs, efficiency rates for every wind
  direction. The length of the list will be the amount of incoming wind
  directions.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other Wind Energy Calculation Functions: 
<code><a href='barometric_height.html'>barometric_height</a>()</code>,
<code><a href='get_dist_angles.html'>get_dist_angles</a>()</code>,
<code><a href='turbine_influences.html'>turbine_influences</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'>## Create a random shapefile</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/edzer/sp/'>sp</a></span><span class='op'>)</span>
<span class='va'>Polygon1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/sp/man/SpatialPolygons.html'>Polygon</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>4498482</span>, <span class='fl'>2668272</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>4498482</span>, <span class='fl'>2669343</span><span class='op'>)</span>,
                    <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>4499991</span>, <span class='fl'>2669343</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>4499991</span>, <span class='fl'>2668272</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>Polygon1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/sp/man/SpatialPolygons.html'>Polygons</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>Polygon1</span><span class='op'>)</span>,<span class='fl'>1</span><span class='op'>)</span>;
<span class='va'>Polygon1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/sp/man/SpatialPolygons.html'>SpatialPolygons</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>Polygon1</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>Projection</span> <span class='op'>&lt;-</span> <span class='st'>"+init=epsg:3035"</span>
<span class='fu'><a href='https://rdrr.io/pkg/sp/man/is.projected.html'>proj4string</a></span><span class='op'>(</span><span class='va'>Polygon1</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/sp/man/CRS-class.html'>CRS</a></span><span class='op'>(</span><span class='va'>Projection</span><span class='op'>)</span>

<span class='co'>## Create a uniform and unidirectional wind data.frame and plot the</span>
<span class='co'>## resulting wind rose</span>
<span class='va'>data.in</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>ws <span class='op'>=</span> <span class='fl'>12</span>, wd <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
<span class='va'>windrosePlot</span> <span class='op'>&lt;-</span> <span class='fu'><a href='plot_windrose.html'>plot_windrose</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>data.in</span>, spd <span class='op'>=</span> <span class='va'>data.in</span><span class='op'>$</span><span class='va'>ws</span>,
                dir <span class='op'>=</span> <span class='va'>data.in</span><span class='op'>$</span><span class='va'>wd</span>, dirres<span class='op'>=</span><span class='fl'>10</span>, spdmax<span class='op'>=</span><span class='fl'>20</span><span class='op'>)</span>

<span class='co'>## Assign the rotor radius and a factor of the radius for grid spacing.</span>
<span class='va'>Rotor</span><span class='op'>=</span> <span class='fl'>50</span>; <span class='va'>fcrR</span><span class='op'>=</span> <span class='fl'>3</span>
<span class='va'>resGrid</span> <span class='op'>&lt;-</span> <span class='fu'><a href='grid_area.html'>grid_area</a></span><span class='op'>(</span>shape <span class='op'>=</span> <span class='va'>Polygon1</span>, resol <span class='op'>=</span> <span class='va'>Rotor</span><span class='op'>*</span><span class='va'>fcrR</span>, prop<span class='op'>=</span><span class='fl'>1</span>,
                      plotGrid <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='co'>## Assign the indexed data frame to new variable. Element 2 of the list</span>
<span class='co'>## is the grid, saved as SpatialPolygon.</span>
<span class='va'>resGrid1</span> <span class='op'>&lt;-</span> <span class='va'>resGrid</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>

<span class='co'>## Create an initial population with the indexed Grid, 15 turbines and</span>
<span class='co'>## 100 individuals.</span>
<span class='va'>initpop</span> <span class='op'>&lt;-</span> <span class='fu'><a href='init_population.html'>init_population</a></span><span class='op'>(</span>Grid <span class='op'>=</span> <span class='va'>resGrid1</span>, n <span class='op'>=</span> <span class='fl'>15</span>, nStart <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>

<span class='co'>## Calculate the expected energy output of the first individual of the</span>
<span class='co'>## population.</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span><span class='op'>(</span>mfrow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>Polygon1</span><span class='op'>)</span>; <span class='fu'><a href='https://rdrr.io/r/graphics/points.html'>points</a></span><span class='op'>(</span><span class='va'>initpop</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>[</span>,<span class='st'>'X'</span><span class='op'>]</span>,<span class='va'>initpop</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>[</span>,<span class='st'>'Y'</span><span class='op'>]</span>, pch<span class='op'>=</span><span class='fl'>20</span>,cex<span class='op'>=</span><span class='fl'>2</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>resGrid</span><span class='op'>[[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>]</span>, add <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>resCalcEn</span> <span class='op'>&lt;-</span> <span class='fu'>calculate_energy</span><span class='op'>(</span>sel<span class='op'>=</span><span class='va'>initpop</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>,referenceHeight<span class='op'>=</span> <span class='fl'>50</span>,
                   RotorHeight<span class='op'>=</span> <span class='fl'>50</span>, SurfaceRoughness <span class='op'>=</span> <span class='fl'>0.14</span>,wnkl <span class='op'>=</span> <span class='fl'>20</span>,
                   distanz <span class='op'>=</span> <span class='fl'>100000</span>, resol <span class='op'>=</span> <span class='fl'>200</span>,dirSpeed <span class='op'>=</span> <span class='va'>data.in</span>,
                   RotorR <span class='op'>=</span> <span class='fl'>50</span>, polygon1 <span class='op'>=</span> <span class='va'>Polygon1</span>, topograp <span class='op'>=</span> <span class='cn'>FALSE</span>,
                   weibull <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='va'>resCalcEn</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='va'>resCalcEn</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>Polygon1</span>, main <span class='op'>=</span> <span class='va'>resCalcEn</span><span class='op'>[</span>,<span class='st'>'Energy_Output_Red'</span><span class='op'>]</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/points.html'>points</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>resCalcEn</span><span class='op'>[</span>,<span class='st'>'Bx'</span><span class='op'>]</span>, y <span class='op'>=</span> <span class='va'>resCalcEn</span><span class='op'>[</span>,<span class='st'>'By'</span><span class='op'>]</span>, pch <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>


<span class='co'>## Create a variable and multidirectional wind data.frame and plot the</span>
<span class='co'>## resulting wind rose</span>
<span class='va'>data.in10</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>ws <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='fl'>10</span>,<span class='fl'>1</span>,<span class='fl'>25</span><span class='op'>)</span>, wd <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='fl'>10</span>,<span class='fl'>0</span>,<span class='fl'>360</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>windrosePlot</span> <span class='op'>&lt;-</span> <span class='fu'><a href='plot_windrose.html'>plot_windrose</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>data.in10</span>, spd <span class='op'>=</span> <span class='va'>data.in10</span><span class='op'>$</span><span class='va'>ws</span>,
                dir <span class='op'>=</span> <span class='va'>data.in10</span><span class='op'>$</span><span class='va'>wd</span>, dirres<span class='op'>=</span><span class='fl'>10</span>, spdmax<span class='op'>=</span><span class='fl'>20</span><span class='op'>)</span>

<span class='co'>## Calculate the energy outputs for the first individual with more than one</span>
<span class='co'>## wind direction.</span>
<span class='va'>resCalcEn</span> <span class='op'>&lt;-</span> <span class='fu'>calculate_energy</span><span class='op'>(</span>sel<span class='op'>=</span><span class='va'>initpop</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>,referenceHeight<span class='op'>=</span> <span class='fl'>50</span>,
                   RotorHeight<span class='op'>=</span> <span class='fl'>50</span>, SurfaceRoughness <span class='op'>=</span> <span class='fl'>0.14</span>,wnkl <span class='op'>=</span> <span class='fl'>20</span>,
                   distanz <span class='op'>=</span> <span class='fl'>100000</span>, resol <span class='op'>=</span> <span class='fl'>200</span>,dirSpeed <span class='op'>=</span> <span class='va'>data.in10</span>,
                   RotorR <span class='op'>=</span> <span class='fl'>50</span>, polygon1 <span class='op'>=</span> <span class='va'>Polygon1</span>, topograp <span class='op'>=</span> <span class='cn'>FALSE</span>,
                   weibull <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sebastian Gatscha.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


