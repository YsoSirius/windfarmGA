<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Genetic Algorithm for Wind Farm Layout Optimization • windfarmGA</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Genetic Algorithm for Wind Farm Layout Optimization">
<meta name="description" content="The genetic algorithm is designed to optimize wind farms of any shape. It requires a predefined amount of turbines, a unified rotor radius and an average wind speed value for each incoming wind direction. A terrain effect model can be included that downloads an SRTM elevation model and loads a Corine Land Cover raster to approximate surface roughness.">
<meta property="og:description" content="The genetic algorithm is designed to optimize wind farms of any shape. It requires a predefined amount of turbines, a unified rotor radius and an average wind speed value for each incoming wind direction. A terrain effect model can be included that downloads an SRTM elevation model and loads a Corine Land Cover raster to approximate surface roughness.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">windfarmGA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/YsoSirius/windfarmGA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="windfarmga">windfarmGA<a class="anchor" aria-label="anchor" href="#windfarmga"></a>
</h1></div>
<p><img src="https://raw.githubusercontent.com/YSoSirius/windfarmGA/master/inst/img/windfarmGA.png" align="right" width="150"></p>
<!-- badges: start -->

<!-- badges: end -->
<p>Genetic algorithm to optimize the layout of windfarms. The package is hosted on <a href="https://CRAN.R-project.org/package=windfarmGA" class="external-link">CRAN</a></p>
</div>
<div class="section level1">
<h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1>
<p>The latest version can be installed from GitHub with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">devtools::install_github</span><span class="er">(</span><span class="st">"YsoSirius/windfarmGA"</span><span class="kw">)</span></span></code></pre></div>
<p>and the CRAN-version with:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">install.packages</span><span class="er">(</span><span class="st">"windfarmGA"</span><span class="kw">)</span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h1>
<p>The genetic algorithm is designed to optimize wind farms of any shape. It requires a predefined number of turbines, a uniform rotor radius and an average wind speed per wind direction. It can include a terrain effect model, which requires an elevation raster and a surface roughness raster. The elevation data is used to find mountains and valleys and to adjust the wind speeds accordingly by ‘wind multipliers’ and to determine the air densities at rotor heights. The surface roughness raster with an additional elevation roughness value is used to re-evaluate the surface roughness and to individually determine the wake-decay constant for each turbine.</p>
<p>To start an optimization use the function <code>genetic_algorithm</code>.</p>
<div>
<p><img src="https://raw.githubusercontent.com/YSoSirius/windfarmGA/master/inst/img/result2.png" style="width: 49%;display: inline-block;"><img src="https://raw.githubusercontent.com/YSoSirius/windfarmGA/master/inst/img/result1.png" style="width: 49%;display: inline-block;"></p>
</div>
<p>Since version 1.1, hexagonal grid cells are possible, with their center points being possible locations for wind turbines. Furthermore, rasters can be included, which contain information on the Weibull parameters. For Austria this data is already included in the package.</p>
<div class="section level2">
<h2 id="create-an-input-polygon">Create an input Polygon<a class="anchor" aria-label="anchor" href="#create-an-input-polygon"></a>
</h2>
<ul>
<li>Input Polygon by source</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">library</span><span class="er">(</span><span class="ex">sf</span><span class="kw">)</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">dsn</span> <span class="op">&lt;</span>- <span class="st">"Path to the Shapefile"</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="ex">layer</span> <span class="op">&lt;</span>- <span class="st">"Name of the Shapefile"</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="ex">Polygon1</span> <span class="op">&lt;</span>- sf::st_read<span class="er">(</span><span class="ex">dsn</span> = dsn, layer = layer<span class="kw">)</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="ex">plot</span><span class="er">(</span><span class="ex">Polygon1,</span> col = <span class="st">"blue"</span><span class="kw">)</span></span></code></pre></div>
<ul>
<li>Or create a random Polygon</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">library</span><span class="er">(</span><span class="ex">sf</span><span class="kw">)</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="ex">Polygon1</span> <span class="op">&lt;</span>- sf::st_as_sf<span class="er">(</span><span class="ex">sf::st_sfc</span><span class="er">(</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  <span class="ex">sf::st_polygon</span><span class="er">(</span><span class="ex">list</span><span class="er">(</span><span class="ex">cbind</span><span class="er">(</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>    <span class="ex">c</span><span class="er">(</span><span class="ex">0,</span> 0, 2000, 2000, 0<span class="kw">)</span><span class="ex">,</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>    <span class="ex">c</span><span class="er">(</span><span class="ex">0,</span> 2000, 2000, 0, 0<span class="kw">))))</span><span class="ex">,</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>  <span class="ex">crs</span> = 3035</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="kw">))</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="ex">plot</span><span class="er">(</span><span class="ex">Polygon1,</span> col = <span class="st">"blue"</span>, axes = TRUE<span class="kw">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="create-random-wind-data">Create random Wind data<a class="anchor" aria-label="anchor" href="#create-random-wind-data"></a>
</h2>
<ul>
<li>Exemplary input Wind data with <em>uniform</em> wind speed and <em>single</em> wind direction</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">wind_df</span> <span class="op">&lt;</span>- data.frame<span class="er">(</span><span class="ex">ws</span> = c<span class="er">(</span><span class="ex">12,</span> 12<span class="kw">)</span><span class="ex">,</span> wd = c<span class="er">(</span><span class="ex">0,</span> 0<span class="kw">)</span><span class="ex">,</span> probab = c<span class="er">(</span><span class="ex">25,</span> 25<span class="kw">))</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="ex">windrosePlot</span> <span class="op">&lt;</span>- plot_windrose<span class="er">(</span><span class="ex">data</span> = wind_df, spd = wind_df<span class="va">$ws</span>,</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>                              <span class="fu">dir</span> = wind_df<span class="va">$wd</span>, dirres=10, spdmax = 20<span class="kw">)</span></span></code></pre></div>
<ul>
<li>Exemplary input Wind data with <em>random</em> wind speeds and <em>random</em> wind directions</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">wind_df</span> <span class="op">&lt;</span>- data.frame<span class="er">(</span><span class="ex">ws</span> = sample<span class="er">(</span><span class="ex">1:25,</span> 10<span class="kw">)</span><span class="ex">,</span> wd = sample<span class="er">(</span><span class="ex">1:260,</span> 10<span class="kw">))</span><span class="er">)</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="ex">windrosePlot</span> <span class="op">&lt;</span>- plot_windrose<span class="er">(</span><span class="ex">data</span> = wind_df, spd = wind_df<span class="va">$ws</span>,</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>                              <span class="fu">dir</span> = wind_df<span class="va">$wd</span><span class="kw">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="grid-spacing">Grid Spacing<a class="anchor" aria-label="anchor" href="#grid-spacing"></a>
</h2>
<div class="section level3">
<h3 id="rectangular-grid-cells">Rectangular Grid Cells<a class="anchor" aria-label="anchor" href="#rectangular-grid-cells"></a>
</h3>
<p>Verify that the grid spacing is appropriate. Adapt the following input variables if necessary: - <em>Rotor</em>: The rotor radius in meters. - <em>fcrR</em>: The grid spacing factor, which should at least be 2, so that a single grid covers at least the whole rotor diameter. - <em>prop</em>: The proportionality factor used for grid calculation. It determines the minimum percentage that a grid cell must cover of the area.</p>
<p><em>Make sure that the Polygon is projected in meters.</em></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">Rotor</span> <span class="op">&lt;</span>- 20</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="ex">fcrR</span> <span class="op">&lt;</span>- 9</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="ex">Grid</span> <span class="op">&lt;</span>- grid_area<span class="er">(</span><span class="ex">Polygon1,</span> size = <span class="er">(</span><span class="ex">Rotor</span> <span class="pp">*</span> fcrR<span class="kw">)</span><span class="ex">,</span> prop = 1, plotGrid = TRUE<span class="kw">)</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="ex">str</span><span class="er">(</span><span class="ex">Grid</span><span class="kw">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="hexagonal-grid-cells">Hexagonal Grid Cells<a class="anchor" aria-label="anchor" href="#hexagonal-grid-cells"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">Rotor</span> <span class="op">&lt;</span>- 20</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="ex">fcrR</span> <span class="op">&lt;</span>- 9</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="ex">HexGrid</span> <span class="op">&lt;</span>- hexa_area<span class="er">(</span><span class="ex">Polygon1,</span> size = <span class="er">(</span><span class="ex">Rotor</span> <span class="pp">*</span> fcrR<span class="kw">)</span><span class="ex">,</span> plotGrid = TRUE<span class="kw">)</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="ex">str</span><span class="er">(</span><span class="ex">HexGrid</span><span class="kw">)</span></span></code></pre></div>
<p align="center">
<img src="https://raw.githubusercontent.com/YSoSirius/windfarmGA/master/inst/img/grids.png" width="300"></p>
</div>
</div>
<div class="section level2">
<h2 id="terrain-effect-model">Terrain Effect Model<a class="anchor" aria-label="anchor" href="#terrain-effect-model"></a>
</h2>
<p>If the input variable <strong>topograp</strong> for the functions <code>windfarmGA</code> or <code>genetic_algorithm</code> is TRUE, the genetic algorithm will take terrain effects into account. For this purpose an elevation model and a Corine Land Cover raster are downloaded automatically, but can also be given manually. ( <a href="https://www.eea.europa.eu/data-and-maps/data/clc-2006-raster-4" class="external-link">Download a CLC raster</a> ).</p>
<p>If you want to include your own Land Cover Raster, you must assign the Raster Image path to the input variable <strong>sourceCCL</strong>. The algorithm uses an adapted version of the Raster legend (“clc_legend.csv”), which is stored in the package subdirectory (/extdata). To use own values for the land cover roughness lengths, insert a column named <strong>Rauhigkeit_z</strong> to the .csv file. Assign a surface roughness length to all land cover types. Be sure that all rows are filled with numeric values and save the .csv file with “;” delimiter. Assign the .csv file path to the input variable <strong>sourceCCLRoughness</strong>.</p>
</div>
<div class="section level2">
<h2 id="start-an-optimization">Start an Optimization<a class="anchor" aria-label="anchor" href="#start-an-optimization"></a>
</h2>
<p>An optimization can be initiated with the function <strong>genetic_algorithm</strong></p>
<ul>
<li>without terrain effects</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">result</span> <span class="op">&lt;</span>- genetic_algorithm<span class="er">(</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="ex">Polygon1</span> = Polygon1, n = 12, Rotor = 20, fcrR = 9, iteration = 10,</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  <span class="ex">vdirspe</span> = wind_df, crossPart1 = <span class="st">"EQU"</span>, selstate = <span class="st">"FIX"</span>, mutr = 0.8,</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  <span class="ex">Proportionality</span> = 1, SurfaceRoughness = 0.3, topograp = FALSE,</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  <span class="ex">elitism</span> =TRUE, nelit = 7, trimForce = TRUE,</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>  <span class="ex">referenceHeight</span> = 50, RotorHeight = 100</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>  <span class="kw">)</span></span></code></pre></div>
<ul>
<li>with terrain effects</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">sourceCCL</span> <span class="op">&lt;</span>- <span class="st">"Source of the CCL raster (TIF)"</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="ex">sourceCCLRoughness</span> <span class="op">&lt;</span>- <span class="st">"Source of the Adaped CCL legend (CSV)"</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="ex">result</span> <span class="op">&lt;</span>- genetic_algorithm<span class="er">(</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>  <span class="ex">Polygon1</span> = Polygon1, n = 12, Rotor = 20, fcrR = 9, iteration = 10,</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>  <span class="ex">vdirspe</span> = wind_df, crossPart1 = <span class="st">"EQU"</span>, selstate = <span class="st">"FIX"</span>, mutr = 0.8,</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>  <span class="ex">Proportionality</span> = 1, SurfaceRoughness = 0.3, topograp = TRUE,</span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>  <span class="ex">elitism</span> = TRUE, nelit = 7, trimForce = TRUE,</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a>  <span class="ex">referenceHeight</span> = 50, RotorHeight = 100, sourceCCL = sourceCCL,</span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a>  <span class="ex">sourceCCLRoughness</span> = sourceCCLRoughness</span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a><span class="kw">)</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co">## Run an optimization with your own Weibull parameter rasters. The shape and scale </span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="co">## parameter rasters of the weibull distributions must be added to a list, with the first</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="co">## list item being the shape parameter (k) and the second list item being the scale</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="co">## parameter (a). Adapt the paths to your raster data and run an optimization.</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="ex">kraster</span> <span class="op">&lt;</span>- <span class="st">"/..pathto../k_param_raster.tif"</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="ex">araster</span> <span class="op">&lt;</span>- <span class="st">"/..pathto../a_param_raster.tif"</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="ex">weibullrasters</span> <span class="op">&lt;</span>- list<span class="er">(</span><span class="ex">raster</span><span class="er">(</span><span class="ex">kraster</span><span class="kw">)</span><span class="ex">,</span> raster<span class="er">(</span><span class="ex">araster</span><span class="kw">))</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="ex">result_weibull</span> <span class="op">&lt;</span>- genetic_algorithm<span class="er">(</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a>  <span class="ex">Polygon1</span> = Polygon1, GridMethod =<span class="st">"h"</span>, n=12,</span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a>  <span class="va">fcrR</span><span class="op">=</span>5, <span class="va">iteration</span><span class="op">=</span>10, <span class="ex">vdirspe</span> = wind_df, crossPart1 = <span class="st">"EQU"</span>,</span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a>  <span class="va">selstate</span><span class="op">=</span><span class="st">"FIX"</span>, <span class="va">mutr</span><span class="op">=</span>0.8, <span class="ex">Proportionality</span> = 1, Rotor=30,</span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a>  <span class="ex">SurfaceRoughness</span> = 0.3, topograp = FALSE,</span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a>  <span class="va">elitism</span><span class="op">=</span>TRUE, <span class="ex">nelit</span> = 7, trimForce = TRUE,</span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a>  <span class="ex">referenceHeight</span> = 50,RotorHeight = 100,</span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a>  <span class="ex">weibull</span> = TRUE, weibullsrc = weibullrasters<span class="kw">)</span></span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a><span class="ex">plot_windfarmGA</span><span class="er">(</span><span class="ex">result</span> = result_weibull, Polygon1 = Polygon1<span class="kw">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="plot-the-results-on-a-leaflet-map">Plot the Results on a Leaflet Map<a class="anchor" aria-label="anchor" href="#plot-the-results-on-a-leaflet-map"></a>
</h4>
<div class="sourceCode" id="cb12"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co">## Plot the best wind farm on a leaflet map (ordered by energy values)</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="ex">plot_leaflet</span><span class="er">(</span><span class="ex">result</span> = resulthex, Polygon1, which = 1<span class="kw">)</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="co">## Plot the last wind farm (ordered by chronology).</span></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a><span class="ex">plot_leaflet</span><span class="er">(</span><span class="ex">result</span> = resulthex, Polygon1, orderitems = FALSE, which = 1<span class="kw">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="plotting-methods-of-the-genetic-algorithm">Plotting Methods of the Genetic Algorithm<a class="anchor" aria-label="anchor" href="#plotting-methods-of-the-genetic-algorithm"></a>
</h2>
<p>Several plotting functions are available:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a> <span class="ex">-</span> plot_windfarmGA<span class="er">(</span><span class="ex">result,</span> Polygon1<span class="kw">)</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a> <span class="ex">-</span> plot_result<span class="er">(</span><span class="ex">result,</span> Polygon1, best = 1<span class="kw">)</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a> <span class="ex">-</span> plot_evolution<span class="er">(</span><span class="ex">result,</span> ask = TRUE, spar = 0.1<span class="kw">)</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a> <span class="ex">-</span> plot_development<span class="er">(</span><span class="ex">result</span><span class="kw">)</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a> <span class="ex">-</span> plot_parkfitness<span class="er">(</span><span class="ex">result,</span> spar = 0.1<span class="kw">)</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a> <span class="ex">-</span> plot_fitness_evolution<span class="er">(</span><span class="ex">result</span><span class="kw">)</span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a> <span class="ex">-</span> plot_cloud<span class="er">(</span><span class="ex">result,</span> pl = TRUE<span class="kw">)</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a> <span class="ex">-</span> plot_heatmap<span class="er">(</span><span class="ex">result</span> = result, si = 5<span class="kw">)</span></span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a> <span class="ex">-</span> plot_leaflet<span class="er">(</span><span class="ex">result</span> = result, Polygon1 = Polygon1, which = 1<span class="kw">)</span></span></code></pre></div>
<p>A full documentation of the genetic algorithm is given in my <a href="https://homepage.boku.ac.at/jschmidt/TOOLS/Masterarbeit_Gatscha.pdf" class="external-link">master thesis</a>.</p>
</div>
</div>
<div class="section level1">
<h1 id="shiny-windfarm-optimization">Shiny Windfarm Optimization<a class="anchor" aria-label="anchor" href="#shiny-windfarm-optimization"></a>
</h1>
<p>I also made a <a href="https://windfarmga.shinyapps.io/windga_shiny/" class="external-link">Shiny App</a> for the Genetic Algorithm. Unfortunately, as an optimization takes quite some time and the app is currently hosted by shinyapps.io under a public license, there is only 1 R-worker at hand. So only 1 optimization can be run at a time.</p>
</div>
<div class="section level1">
<h1 id="full-optimization-example">Full Optimization example:<a class="anchor" aria-label="anchor" href="#full-optimization-example"></a>
</h1>
<div class="sourceCode" id="cb14"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">library</span><span class="er">(</span><span class="ex">sf</span><span class="kw">)</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="ex">library</span><span class="er">(</span><span class="ex">windfarmGA</span><span class="kw">)</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="ex">Polygon1</span> <span class="op">&lt;</span>- sf::st_as_sf<span class="er">(</span><span class="ex">sf::st_sfc</span><span class="er">(</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>  <span class="ex">sf::st_polygon</span><span class="er">(</span><span class="ex">list</span><span class="er">(</span><span class="ex">cbind</span><span class="er">(</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>    <span class="ex">c</span><span class="er">(</span><span class="ex">4651704,</span> 4651704, 4654475, 4654475, 4651704<span class="kw">)</span><span class="ex">,</span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>    <span class="ex">c</span><span class="er">(</span><span class="ex">2692925,</span> 2694746, 2694746, 2692925, 2692925<span class="kw">))))</span><span class="ex">,</span> </span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a>  <span class="ex">crs</span> = 3035</span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a><span class="kw">))</span></span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a><span class="ex">plot</span><span class="er">(</span><span class="ex">Polygon1,</span> col = <span class="st">"blue"</span>, axes = TRUE<span class="kw">)</span></span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a><span class="ex">wind_df</span> <span class="op">&lt;</span>- data.frame<span class="er">(</span><span class="ex">ws</span> = 12, wd = 0<span class="kw">)</span></span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a><span class="ex">windrosePlot</span> <span class="op">&lt;</span>- plot_windrose<span class="er">(</span><span class="ex">data</span> = wind_df, spd = wind_df<span class="va">$ws</span>,</span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a>                             <span class="fu">dir</span> = wind_df<span class="va">$wd</span>, dirres = 10, spdmax = 20<span class="kw">)</span></span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a><span class="ex">Rotor</span> <span class="op">&lt;</span>- 20</span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a><span class="ex">fcrR</span> <span class="op">&lt;</span>- 9</span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a><span class="ex">Grid</span> <span class="op">&lt;</span>- grid_area<span class="er">(</span><span class="ex">shape</span> = Polygon1, size = <span class="er">(</span><span class="ex">Rotor*fcrR</span><span class="kw">)</span><span class="ex">,</span> prop = 1, plotGrid = TRUE<span class="kw">)</span></span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a></span>
<span id="cb14-19"><a href="#cb14-19" tabindex="-1"></a><span class="ex">result</span> <span class="op">&lt;</span>- genetic_algorithm<span class="er">(</span><span class="ex">Polygon1</span> = sp_polygon, </span>
<span id="cb14-20"><a href="#cb14-20" tabindex="-1"></a>                            <span class="ex">n</span> = 20,</span>
<span id="cb14-21"><a href="#cb14-21" tabindex="-1"></a>                            <span class="ex">Rotor</span> = Rotor, fcrR = fcrR, </span>
<span id="cb14-22"><a href="#cb14-22" tabindex="-1"></a>                            <span class="ex">iteration</span> = 50, </span>
<span id="cb14-23"><a href="#cb14-23" tabindex="-1"></a>                            <span class="ex">vdirspe</span> = wind_df,</span>
<span id="cb14-24"><a href="#cb14-24" tabindex="-1"></a>                            <span class="ex">referenceHeight</span> = 50, RotorHeight = 100<span class="kw">)</span></span>
<span id="cb14-25"><a href="#cb14-25" tabindex="-1"></a></span>
<span id="cb14-26"><a href="#cb14-26" tabindex="-1"></a><span class="co"># The following function will execute all plotting function further below:</span></span>
<span id="cb14-27"><a href="#cb14-27" tabindex="-1"></a><span class="ex">plot_windfarmGA</span><span class="er">(</span><span class="ex">result,</span> Polygon1, whichPl = <span class="st">"all"</span>, best = 1, plotEn = 1<span class="kw">)</span></span>
<span id="cb14-28"><a href="#cb14-28" tabindex="-1"></a></span>
<span id="cb14-29"><a href="#cb14-29" tabindex="-1"></a><span class="co"># The plotting functions can also be called individually:</span></span>
<span id="cb14-30"><a href="#cb14-30" tabindex="-1"></a><span class="ex">plot_result</span><span class="er">(</span><span class="ex">result,</span> Polygon1, best = 1, plotEn = 1, topographie = FALSE<span class="kw">)</span></span>
<span id="cb14-31"><a href="#cb14-31" tabindex="-1"></a><span class="ex">plot_evolution</span><span class="er">(</span><span class="ex">result,</span> ask = TRUE, spar = 0.1<span class="kw">)</span></span>
<span id="cb14-32"><a href="#cb14-32" tabindex="-1"></a><span class="ex">plot_parkfitness</span><span class="er">(</span><span class="ex">result,</span> spar = 0.1<span class="kw">)</span></span>
<span id="cb14-33"><a href="#cb14-33" tabindex="-1"></a><span class="ex">plot_fitness_evolution</span><span class="er">(</span><span class="ex">result</span><span class="kw">)</span></span>
<span id="cb14-34"><a href="#cb14-34" tabindex="-1"></a><span class="ex">plot_cloud</span><span class="er">(</span><span class="ex">result,</span> pl = TRUE<span class="kw">)</span></span>
<span id="cb14-35"><a href="#cb14-35" tabindex="-1"></a><span class="ex">plot_heatmap</span><span class="er">(</span><span class="ex">result</span> = result, si = 5<span class="kw">)</span></span>
<span id="cb14-36"><a href="#cb14-36" tabindex="-1"></a><span class="ex">plot_leaflet</span><span class="er">(</span><span class="ex">result</span> = result, Polygon1 = Polygon1, which = 1<span class="kw">)</span></span></code></pre></div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=windfarmGA" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/YsoSirius/windfarmGA/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/YsoSirius/windfarmGA/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing windfarmGA</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Sebastian Gatscha <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-pkg.org/pkg/windfarmGA" class="external-link"><img src="https://www.r-pkg.org/badges/version/windfarmGA"></a></li>
<li><a href="https://cran.r-project.org/web/checks/check_results_windfarmGA.html" class="external-link"><img src="https://badges.cranchecks.info/worst/windfarmGA.svg" alt="cran checks"></a></li>
<li><a href="https://www.r-pkg.org/pkg/windfarmGA" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/windfarmGA?color=brightgreen" alt="CRAN RStudio mirror downloads"></a></li>
<li><a href="https://www.rpackages.io/package/windfarmGA" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/grand-total/windfarmGA" alt="CRAN Downloads"></a></li>
<li><a href="https://github.com/YsoSirius/windfarmGA/actions" class="external-link"><img src="https://github.com/YsoSirius/windfarmGA/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="lifecycle"></a></li>
<li><a href="https://app.codecov.io/gh/YsoSirius/windfarmGA" class="external-link"><img src="https://codecov.io/gh/YsoSirius/windfarmGA/branch/master/graph/badge.svg" alt="codecov"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sebastian Gatscha.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
