<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Genetic Algorithm for Wind Farm Layout Optimization • windfarmGA</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Genetic Algorithm for Wind Farm Layout Optimization">
<meta property="og:description" content="The genetic algorithm is designed to optimize wind farms of any shape. It requires a predefined amount of turbines, a unified rotor radius and an average wind speed value for each incoming wind direction. A terrain effect model can be included that downloads an SRTM elevation model and loads a Corine Land Cover raster to approximate surface roughness.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">windfarmGA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="articles/index.html">Articles</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/YsoSirius/windfarmGA/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="windfarmga" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#windfarmga" class="anchor"></a>windfarmGA</h1></div>
<p align="center">
<img src="https://raw.githubusercontent.com/YSoSirius/windfarmGA/master/inst/img/windfarmGA.png" align="right" width="150"></p>
<!-- badges: start -->

<!-- badges: end -->
<p>Genetic algorithm to optimize the layout of windfarms. The package is hosted on <a href="https://CRAN.R-project.org/package=windfarmGA">CRAN</a></p>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>The latest version can be installed from GitHub with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="ex">devtools</span>::install_github(<span class="st">"YsoSirius/windfarmGA"</span>)</span></code></pre></div>
<p>and the CRAN-version with:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1"></a><span class="ex">install.packages</span>(<span class="st">"windfarmGA"</span>)</span></code></pre></div>
</div>
<div id="description" class="section level1">
<h1 class="hasAnchor">
<a href="#description" class="anchor"></a>Description</h1>
<p>The genetic algorithm is designed to optimize wind farms of any shape. It requires a predefined number of turbines, a uniform rotor radius and an average wind speed per wind direction. It can include a terrain effect model, which downloads an ‘SRTM’ elevation model and a ‘Corine Land Cover’ raster automatically. The elevation model is used to find mountains and valleys and to adjust the wind speeds accordingly by ‘wind multipliers’ and to determine the air densities at rotor heights. The land cover raster with an additional elevation roughness value is used to re-evaluate the surface roughness and to individually determine the wake-decay constant for each turbine.</p>
<p>To start an optimization, either the function <code>windfarmGA</code> or <code>genetic_algorithm</code> can be used. The function <code>windfarmGA</code> checks the user inputs interactively and then runs the function <code>genetic_algorithm</code>. If the input parameters are already known, an optimization can be run directly via <code>genetic_algorithm</code>.</p>
<div style="display: inline-flex;">
<img src="https://raw.githubusercontent.com/YSoSirius/windfarmGA/master/inst/img/result2.png" width="430"><img src="https://raw.githubusercontent.com/YSoSirius/windfarmGA/master/inst/img/result1.png" width="430">
</div>
<p><br></p>
<p>Since version 1.1, hexagonal grid cells are possible, with their center points being possible locations for wind turbines. Furthermore, rasters can be included, which contain information on the Weibull parameters. For Austria this data is already included in the package.</p>
<div id="create-an-input-polygon" class="section level2">
<h2 class="hasAnchor">
<a href="#create-an-input-polygon" class="anchor"></a>Create an input Polygon</h2>
<ul>
<li>Input Polygon by source</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="ex">library</span>(sf)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="ex">dsn</span> <span class="op">&lt;</span>- <span class="st">"Path to the Shapefile"</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="ex">layer</span> <span class="op">&lt;</span>- <span class="st">"Name of the Shapefile"</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="ex">Polygon1</span> <span class="op">&lt;</span>- sf::st_read(dsn = dsn, layer = layer)</span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="ex">plot</span>(Polygon1, col = <span class="st">"blue"</span>)</span></code></pre></div>
<ul>
<li>Or create a random Polygon</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1"></a><span class="ex">library</span>(sf)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="ex">Polygon1</span> <span class="op">&lt;</span>- sf::st_as_sf(sf::st_sfc(</span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="ex">sf</span>::st_polygon(list(cbind(</span>
<span id="cb4-4"><a href="#cb4-4"></a>    <span class="ex">c</span>(0, 0, 2000, 2000, 0),</span>
<span id="cb4-5"><a href="#cb4-5"></a>    <span class="ex">c</span>(0, 2000, 2000, 0, 0)))),</span>
<span id="cb4-6"><a href="#cb4-6"></a>  <span class="ex">crs</span> = 3035</span>
<span id="cb4-7"><a href="#cb4-7"></a>))</span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="ex">plot</span>(Polygon1, col = <span class="st">"blue"</span>, axes = TRUE)</span></code></pre></div>
</div>
<div id="create-random-wind-data" class="section level2">
<h2 class="hasAnchor">
<a href="#create-random-wind-data" class="anchor"></a>Create random Wind data</h2>
<ul>
<li>Exemplary input Wind data with <em>uniform</em> wind speed and <em>single</em> wind direction</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1"></a><span class="ex">wind_df</span> <span class="op">&lt;</span>- data.frame(ws = c(12, 12), <span class="ex">wd</span> = c(0, 0), <span class="ex">probab</span> = c(25, 25))</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="ex">windrosePlot</span> <span class="op">&lt;</span>- plot_windrose(data = wind_df, spd = wind_df<span class="va">$ws</span>,</span>
<span id="cb5-3"><a href="#cb5-3"></a>                              <span class="fu">dir</span> = wind_df<span class="va">$wd</span>, dirres=10, spdmax = 20)</span></code></pre></div>
<ul>
<li>Exemplary input Wind data with <em>random</em> wind speeds and <em>random</em> wind directions</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1"></a><span class="ex">wind_df</span> <span class="op">&lt;</span>- data.frame(ws = sample(1:25, 10), <span class="ex">wd</span> = sample(1:260, 10)))</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="ex">windrosePlot</span> <span class="op">&lt;</span>- plot_windrose(data = wind_df, spd = wind_df<span class="va">$ws</span>,</span>
<span id="cb6-3"><a href="#cb6-3"></a>                              <span class="fu">dir</span> = wind_df<span class="va">$wd</span>)</span></code></pre></div>
</div>
<div id="grid-spacing" class="section level2">
<h2 class="hasAnchor">
<a href="#grid-spacing" class="anchor"></a>Grid Spacing</h2>
<div id="rectangular-grid-cells" class="section level3">
<h3 class="hasAnchor">
<a href="#rectangular-grid-cells" class="anchor"></a>Rectangular Grid Cells</h3>
<p>Verify that the grid spacing is appropriate. Adapt the following input variables if desired:</p>
<ul>
<li>
<em>Rotor</em>: The desired rotor radius in meters.</li>
<li>
<em>fcrR</em>: The grid spacing factor, which should at least be 2, so that a single grid covers at least the whole rotor diameter.</li>
<li>
<em>prop</em>: The proportionality factor used for grid calculation. It determines the percentage a grid has to overlay the considered area to be represented as grid cell.</li>
</ul>
<p><em>Make sure that the Polygon is projected in meters.</em></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1"></a><span class="ex">Rotor</span> <span class="op">&lt;</span>- 20</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="ex">fcrR</span> <span class="op">&lt;</span>- 9</span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="ex">Grid</span> <span class="op">&lt;</span>- grid_area(Polygon1, size = (Rotor * fcrR), <span class="ex">prop</span> = 1, plotGrid = TRUE)</span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="ex">str</span>(Grid)</span></code></pre></div>
</div>
<div id="hexagonal-grid-cells" class="section level3">
<h3 class="hasAnchor">
<a href="#hexagonal-grid-cells" class="anchor"></a>Hexagonal Grid Cells</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1"></a><span class="ex">Rotor</span> <span class="op">&lt;</span>- 20</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="ex">fcrR</span> <span class="op">&lt;</span>- 9</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="ex">HexGrid</span> <span class="op">&lt;</span>- hexa_area(Polygon1, size = (Rotor * fcrR), <span class="ex">plotGrid</span> = TRUE)</span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="ex">str</span>(HexGrid)</span></code></pre></div>
<p align="center">
<img src="https://raw.githubusercontent.com/YSoSirius/windfarmGA/master/inst/img/hexagon.png" width="300"></p>
</div>
</div>
<div id="terrain-effect-model" class="section level2">
<h2 class="hasAnchor">
<a href="#terrain-effect-model" class="anchor"></a>Terrain Effect Model</h2>
<p>If the input variable <strong>topograp</strong> for the functions <code>windfarmGA</code> or <code>genetic_algorithm</code> is TRUE, the genetic algorithm will take terrain effects into account. For this purpose an elevation model and a Corine Land Cover raster are downloaded automatically, but can also be given manually. ( <a href="http://www.eea.europa.eu/data-and-maps/data/clc-2006-raster-1">Download a CLC raster</a> ).</p>
<p>If you want to include your own Land Cover Raster, you must assign the Raster Image path to the input variable <strong>sourceCCL</strong>. The algorithm uses an adapted version of the Raster legend (“clc_legend.csv”), which is stored in the package subdirectory (/extdata). To use own values for the land cover roughness lengths, insert a column named <strong>Rauhigkeit_z</strong> to the .csv file. Assign a surface roughness length to all land cover types. Be sure that all rows are filled with numeric values and save the .csv file with “;” delimiter. Assign the .csv file path to the input variable <strong>sourceCCLRoughness</strong>.</p>
</div>
<div id="start-an-optimization" class="section level2">
<h2 class="hasAnchor">
<a href="#start-an-optimization" class="anchor"></a>Start an Optimization</h2>
<p>An optimization run can be initiated with the following functions:</p>
<ul>
<li>genetic_algorithm</li>
<li>windfarmGA</li>
</ul>
<div id="function-calls-for-windfarmga" class="section level3">
<h3 class="hasAnchor">
<a href="#function-calls-for-windfarmga" class="anchor"></a>Function calls for windfarmGA</h3>
<ul>
<li>without terrain effects</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1"></a><span class="ex">result</span> <span class="op">&lt;</span>- windfarmGA(Polygon1 = Polygon1, n = 12, Rotor = 20, fcrR = 9, iteration = 10,</span>
<span id="cb9-2"><a href="#cb9-2"></a>                     <span class="ex">vdirspe</span> = wind_df, crossPart1 = <span class="st">"EQU"</span>, selstate = <span class="st">"FIX"</span>, mutr = 0.8,</span>
<span id="cb9-3"><a href="#cb9-3"></a>                     <span class="ex">Proportionality</span> = 1, SurfaceRoughness = 0.3, topograp = FALSE,</span>
<span id="cb9-4"><a href="#cb9-4"></a>                     <span class="ex">elitism</span> =TRUE, nelit = 7, trimForce = TRUE,</span>
<span id="cb9-5"><a href="#cb9-5"></a>                     <span class="ex">referenceHeight</span> = 50, RotorHeight = 100)</span></code></pre></div>
<ul>
<li>with terrain effects</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1"></a><span class="ex">sourceCCL</span> <span class="op">&lt;</span>- <span class="st">"Source of the CCL raster (TIF)"</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="ex">sourceCCLRoughness</span> <span class="op">&lt;</span>- <span class="st">"Source of the Adaped CCL legend (CSV)"</span></span>
<span id="cb10-3"><a href="#cb10-3"></a></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="ex">result</span> <span class="op">&lt;</span>- windfarmGA(Polygon1 = Polygon1, n = 12, Rotor = 20, fcrR = 9, iteration = 10,</span>
<span id="cb10-5"><a href="#cb10-5"></a>                     <span class="ex">vdirspe</span> = wind_df, crossPart1 = <span class="st">"EQU"</span>, selstate = <span class="st">"FIX"</span>, mutr = 0.8,</span>
<span id="cb10-6"><a href="#cb10-6"></a>                     <span class="ex">Proportionality</span> = 1, SurfaceRoughness = 0.3, topograp = TRUE,</span>
<span id="cb10-7"><a href="#cb10-7"></a>                     <span class="ex">elitism</span> = TRUE, nelit = 7, trimForce = TRUE,</span>
<span id="cb10-8"><a href="#cb10-8"></a>                     <span class="ex">referenceHeight</span> = 50, RotorHeight = 100, sourceCCL = sourceCCL,</span>
<span id="cb10-9"><a href="#cb10-9"></a>                     <span class="ex">sourceCCLRoughness</span> = sourceCCLRoughness)</span></code></pre></div>
</div>
<div id="function-calls-for-genetic_algorithm" class="section level3">
<h3 class="hasAnchor">
<a href="#function-calls-for-genetic_algorithm" class="anchor"></a>Function calls for genetic_algorithm</h3>
<ul>
<li>without terrain effects</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1"></a><span class="ex">result</span> <span class="op">&lt;</span>- genetic_algorithm(Polygon1 = Polygon1, n = 12, Rotor = 20, fcrR = 9, iteration = 10,</span>
<span id="cb11-2"><a href="#cb11-2"></a>                            <span class="ex">vdirspe</span> = wind_df, crossPart1 = <span class="st">"EQU"</span>, selstate = <span class="st">"FIX"</span>, mutr =0.8,</span>
<span id="cb11-3"><a href="#cb11-3"></a>                            <span class="ex">Proportionality</span> = 1, SurfaceRoughness = 0.3, topograp = FALSE,</span>
<span id="cb11-4"><a href="#cb11-4"></a>                            <span class="ex">elitism</span> = TRUE, nelit = 7, trimForce = TRUE,</span>
<span id="cb11-5"><a href="#cb11-5"></a>                            <span class="ex">referenceHeight</span> = 50, RotorHeight = 100)</span></code></pre></div>
<ul>
<li>with terrain effects</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1"></a><span class="ex">sourceCCL</span> <span class="op">&lt;</span>- <span class="st">"Source of the CCL raster (TIF)"</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="ex">sourceCCLRoughness</span> <span class="op">&lt;</span>- <span class="st">"Source of the Adaped CCL legend (CSV)"</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="ex">result</span> <span class="op">&lt;</span>- genetic_algorithm(Polygon1 = Polygon1, n= 12, Rotor = 20, fcrR = 9, iteration = 10,</span>
<span id="cb12-4"><a href="#cb12-4"></a>                            <span class="ex">vdirspe</span> = wind_df, crossPart1 = <span class="st">"EQU"</span>, selstate = <span class="st">"FIX"</span>, mutr = 0.8,</span>
<span id="cb12-5"><a href="#cb12-5"></a>                            <span class="ex">Proportionality</span> = 1, SurfaceRoughness = 0.3, topograp = TRUE,</span>
<span id="cb12-6"><a href="#cb12-6"></a>                            <span class="ex">elitism</span> = TRUE, nelit = 7, trimForce = TRUE,</span>
<span id="cb12-7"><a href="#cb12-7"></a>                            <span class="ex">referenceHeight</span> = 50, RotorHeight = 100, sourceCCL = sourceCCL,</span>
<span id="cb12-8"><a href="#cb12-8"></a>                            <span class="ex">sourceCCLRoughness</span> = sourceCCLRoughness)</span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1"></a><span class="co">## Run an optimization with your own Weibull parameter rasters. The shape and scale </span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="co">## parameter rasters of the weibull distributions must be added to a list, with the first</span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="co">## list item being the shape parameter (k) and the second list item being the scale</span></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co">## parameter (a). Adapt the paths to your raster data and run an optimization.</span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="ex">kraster</span> <span class="op">&lt;</span>- <span class="st">"/..pathto../k_param_raster.tif"</span></span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="ex">araster</span> <span class="op">&lt;</span>- <span class="st">"/..pathto../a_param_raster.tif"</span></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="ex">weibullrasters</span> <span class="op">&lt;</span>- list(raster(kraster), <span class="ex">raster</span>(araster))</span>
<span id="cb13-8"><a href="#cb13-8"></a></span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="ex">result_weibull</span> <span class="op">&lt;</span>- genetic_algorithm(Polygon1 = Polygon1, GridMethod =<span class="st">"h"</span>, n=12,</span>
<span id="cb13-10"><a href="#cb13-10"></a>                                    <span class="va">fcrR=</span>5, <span class="va">iteration=</span>10, <span class="ex">vdirspe</span> = wind_df, crossPart1 = <span class="st">"EQU"</span>,</span>
<span id="cb13-11"><a href="#cb13-11"></a>                                    <span class="va">selstate=</span><span class="st">"FIX"</span>, <span class="va">mutr=</span>0.8, <span class="ex">Proportionality</span> = 1, Rotor=30,</span>
<span id="cb13-12"><a href="#cb13-12"></a>                                    <span class="ex">SurfaceRoughness</span> = 0.3, topograp = FALSE,</span>
<span id="cb13-13"><a href="#cb13-13"></a>                                    <span class="va">elitism=</span>TRUE, <span class="ex">nelit</span> = 7, trimForce = TRUE,</span>
<span id="cb13-14"><a href="#cb13-14"></a>                                    <span class="ex">referenceHeight</span> = 50,RotorHeight = 100,</span>
<span id="cb13-15"><a href="#cb13-15"></a>                                    <span class="ex">weibull</span> = TRUE, weibullsrc = weibullrasters)</span>
<span id="cb13-16"><a href="#cb13-16"></a><span class="ex">plot_windfarmGA</span>(result = result_weibull, Polygon1 = Polygon1)</span></code></pre></div>
<p>The argument <strong>GridMethod</strong>, <strong>weibull</strong>, <strong>weibullsrc</strong> can also be given to the function <code>windfarmGA</code>.</p>
<div id="plot-the-results-on-a-leaflet-map" class="section level4">
<h4 class="hasAnchor">
<a href="#plot-the-results-on-a-leaflet-map" class="anchor"></a>Plot the Results on a Leaflet Map</h4>
<div class="sourceCode" id="cb14"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1"></a><span class="co">## Plot the best wind farm on a leaflet map (ordered by energy values)</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="ex">plot_leaflet</span>(result = resulthex, Polygon1, which = 1)</span>
<span id="cb14-3"><a href="#cb14-3"></a></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="co">## Plot the last wind farm (ordered by chronology).</span></span>
<span id="cb14-5"><a href="#cb14-5"></a><span class="ex">plot_leaflet</span>(result = resulthex, Polygon1, orderitems = FALSE, which = 1)</span></code></pre></div>
</div>
</div>
</div>
<div id="plotting-methods-of-the-genetic-algorithm" class="section level2">
<h2 class="hasAnchor">
<a href="#plotting-methods-of-the-genetic-algorithm" class="anchor"></a>Plotting Methods of the Genetic Algorithm</h2>
<p>Several plotting functions are available:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1"></a> <span class="ex">-</span> plot_windfarmGA(result, Polygon1)</span>
<span id="cb15-2"><a href="#cb15-2"></a> <span class="ex">-</span> plot_result(result, Polygon1, best = 1)</span>
<span id="cb15-3"><a href="#cb15-3"></a> <span class="ex">-</span> plot_evolution(result, ask = TRUE, spar = 0.1)</span>
<span id="cb15-4"><a href="#cb15-4"></a> <span class="ex">-</span> plot_development(result)</span>
<span id="cb15-5"><a href="#cb15-5"></a> <span class="ex">-</span> plot_parkfitness(result, spar = 0.1)</span>
<span id="cb15-6"><a href="#cb15-6"></a> <span class="ex">-</span> plot_fitness_evolution(result)</span>
<span id="cb15-7"><a href="#cb15-7"></a> <span class="ex">-</span> plot_cloud(result, pl = TRUE)</span>
<span id="cb15-8"><a href="#cb15-8"></a> <span class="ex">-</span> plot_heatmap(result = result, si = 5)</span>
<span id="cb15-9"><a href="#cb15-9"></a> <span class="ex">-</span> plot_leaflet(result = result, Polygon1 = Polygon1, which = 1)</span></code></pre></div>
<p>For further information, please check the package <a href="https://CRAN.R-project.org/package=windfarmGA/windfarmGA.pdf">description and examples</a>. A full documentation of the genetic algorithm is given in my <a href="https://homepage.boku.ac.at/jschmidt/TOOLS/Masterarbeit_Gatscha.pdf">master thesis</a>.</p>
</div>
</div>
<div id="shiny-windfarm-optimization" class="section level1">
<h1 class="hasAnchor">
<a href="#shiny-windfarm-optimization" class="anchor"></a>Shiny Windfarm Optimization</h1>
<p>I also made a <a href="https://windfarmga.shinyapps.io/windga_shiny/">Shiny App</a> for the Genetic Algorithm. Unfortunately, as an optimization takes quite some time and the app is currently hosted by shinyapps.io under a public license, there is only 1 R-worker at hand. So only 1 optimization can be run at a time.</p>
</div>
<div id="full-optimization-example" class="section level1">
<h1 class="hasAnchor">
<a href="#full-optimization-example" class="anchor"></a>Full Optimization example:</h1>
<div class="sourceCode" id="cb16"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1"></a><span class="ex">library</span>(sf)</span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="ex">library</span>(windfarmGA)</span>
<span id="cb16-3"><a href="#cb16-3"></a></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="ex">Polygon1</span> <span class="op">&lt;</span>- sf::st_as_sf(sf::st_sfc(</span>
<span id="cb16-5"><a href="#cb16-5"></a>  <span class="ex">sf</span>::st_polygon(list(cbind(</span>
<span id="cb16-6"><a href="#cb16-6"></a>    <span class="ex">c</span>(4651704, 4651704, 4654475, 4654475, 4651704),</span>
<span id="cb16-7"><a href="#cb16-7"></a>    <span class="ex">c</span>(2692925, 2694746, 2694746, 2692925, 2692925)))), </span>
<span id="cb16-8"><a href="#cb16-8"></a>  <span class="ex">crs</span> = 3035</span>
<span id="cb16-9"><a href="#cb16-9"></a>))</span>
<span id="cb16-10"><a href="#cb16-10"></a><span class="ex">plot</span>(Polygon1, col = <span class="st">"blue"</span>, axes = TRUE)</span>
<span id="cb16-11"><a href="#cb16-11"></a></span>
<span id="cb16-12"><a href="#cb16-12"></a><span class="ex">wind_df</span> <span class="op">&lt;</span>- data.frame(ws = 12, wd = 0)</span>
<span id="cb16-13"><a href="#cb16-13"></a><span class="ex">windrosePlot</span> <span class="op">&lt;</span>- plot_windrose(data = wind_df, spd = wind_df<span class="va">$ws</span>,</span>
<span id="cb16-14"><a href="#cb16-14"></a>                             <span class="fu">dir</span> = wind_df<span class="va">$wd</span>, dirres = 10, spdmax = 20)</span>
<span id="cb16-15"><a href="#cb16-15"></a><span class="ex">Rotor</span> <span class="op">&lt;</span>- 20</span>
<span id="cb16-16"><a href="#cb16-16"></a><span class="ex">fcrR</span> <span class="op">&lt;</span>- 9</span>
<span id="cb16-17"><a href="#cb16-17"></a><span class="ex">Grid</span> <span class="op">&lt;</span>- grid_area(shape = Polygon1, size = (Rotor*fcrR), <span class="ex">prop</span> = 1, plotGrid = TRUE)</span>
<span id="cb16-18"><a href="#cb16-18"></a></span>
<span id="cb16-19"><a href="#cb16-19"></a><span class="ex">result</span> <span class="op">&lt;</span>- genetic_algorithm(Polygon1 = sp_polygon, </span>
<span id="cb16-20"><a href="#cb16-20"></a>                            <span class="ex">n</span> = 20,</span>
<span id="cb16-21"><a href="#cb16-21"></a>                            <span class="ex">Rotor</span> = Rotor, fcrR = fcrR, </span>
<span id="cb16-22"><a href="#cb16-22"></a>                            <span class="ex">iteration</span> = 50, </span>
<span id="cb16-23"><a href="#cb16-23"></a>                            <span class="ex">vdirspe</span> = wind_df,</span>
<span id="cb16-24"><a href="#cb16-24"></a>                            <span class="ex">referenceHeight</span> = 50, RotorHeight = 100)</span>
<span id="cb16-25"><a href="#cb16-25"></a></span>
<span id="cb16-26"><a href="#cb16-26"></a><span class="co"># The following function will execute all plotting function further below:</span></span>
<span id="cb16-27"><a href="#cb16-27"></a><span class="ex">plot_windfarmGA</span>(result, Polygon1, whichPl = <span class="st">"all"</span>, best = 1, plotEn = 1)</span>
<span id="cb16-28"><a href="#cb16-28"></a></span>
<span id="cb16-29"><a href="#cb16-29"></a><span class="co"># The plotting functions can also be called individually:</span></span>
<span id="cb16-30"><a href="#cb16-30"></a><span class="ex">plot_result</span>(result, Polygon1, best = 1, plotEn = 1, topographie = FALSE)</span>
<span id="cb16-31"><a href="#cb16-31"></a><span class="ex">plot_evolution</span>(result, ask = TRUE, spar = 0.1)</span>
<span id="cb16-32"><a href="#cb16-32"></a><span class="ex">plot_parkfitness</span>(result, spar = 0.1)</span>
<span id="cb16-33"><a href="#cb16-33"></a><span class="ex">plot_fitness_evolution</span>(result)</span>
<span id="cb16-34"><a href="#cb16-34"></a><span class="ex">plot_cloud</span>(result, pl = TRUE)</span>
<span id="cb16-35"><a href="#cb16-35"></a><span class="ex">plot_heatmap</span>(result = result, si = 5)</span>
<span id="cb16-36"><a href="#cb16-36"></a><span class="ex">plot_leaflet</span>(result = result, Polygon1 = Polygon1, which = 1)</span></code></pre></div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=windfarmGA">https://​cloud.r-project.org/​package=windfarmGA</a>
</li>
<li>Browse source code at <br><a href="https://github.com/YsoSirius/windfarmGA/">https://​github.com/​YsoSirius/​windfarmGA/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/YsoSirius/windfarmGA/issues">https://​github.com/​YsoSirius/​windfarmGA/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Sebastian Gatscha <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-pkg.org/pkg/windfarmGA"><img src="https://www.r-pkg.org/badges/version/windfarmGA"></a></li>
<li><a href="https://cran.r-project.org/web/checks/check_results_windfarmGA.html"><img src="https://cranchecks.info/badges/worst/windfarmGA" alt="cran checks"></a></li>
<li><a href="https://www.r-pkg.org/pkg/windfarmGA"><img src="https://cranlogs.r-pkg.org/badges/windfarmGA?color=brightgreen" alt="CRAN RStudio mirror downloads"></a></li>
<li><a href="https://www.rpackages.io/package/windfarmGA"><img src="http://cranlogs.r-pkg.org/badges/grand-total/windfarmGA" alt="CRAN Downloads"></a></li>
<li><a href="https://travis-ci.org/YsoSirius/windfarmGA"><img src="https://travis-ci.org/YsoSirius/windfarmGA.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://github.com/YsoSirius/windfarmGA/actions"><img src="https://github.com/YsoSirius/windfarmGA/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://ci.appveyor.com/project/YsoSirius/windfarmGA"><img src="https://ci.appveyor.com/api/projects/status/github/YsoSirius/windfarmGA?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#stable"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="lifecycle"></a></li>
<li><a href="https://codecov.io/gh/YsoSirius/windfarmGA"><img src="https://codecov.io/gh/YsoSirius/windfarmGA/branch/master/graph/badge.svg" alt="codecov"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Sebastian Gatscha.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
